{
  "names": [
    "Bob",
    "Joe",
    "Tom"
  ],
  "stats": {
    "satiety": {
      "min": 0,
      "max": 100,
      "view_id": "Satiety"
    },
    "energy": {
      "min": 0,
      "max": 100,
      "view_id": "Energy"
    }
  },
  "start_move_speed": 1,
  "systems": {
    "sleep": {
      "stat": "energy",
      "change_speed": 5
    },
    "fatigue": {
      "stat": "energy",
      "change_speed": -2
    },
    "hungry": {
      "stat": "satiety",
      "change_speed": -4
    },
    "feed": {
      "stat": "satiety",
      "change_speed": 50
    }
  },
  "states": {
    "idle": {
      "actions": [
        {
          "type": "invoke_animation",
          "animation": "idle"
        }
      ],
      "transitions": {
        "walk_to_tavern": {
          "type": "compare",
          "operation": "lesser",
          "counter": "satiety",
          "value": 20
        },
        "walk_to_shelter": {
          "type": "compare",
          "operation": "lesser",
          "counter": "energy",
          "value": 10
        },
        "walk_to_warehouse": {
          "type": "flag",
          "flag": "is_carrying",
          "value": "true"
        },
        "walk_to_sawmill": {
          "type": "true"
        }
      }
    },
    "walk_to_tavern": {
      "actions": [
        {
          "type": "set_point_of_interest_building",
          "point_of_interest": "tavern"
        },
        {
          "type": "start_move",
          "point_of_interest": "tavern"
        },
        {
          "type": "invoke_animation",
          "animation": "walk"
        }
      ],
      "transitions": {
        "eat_start": {
          "type": "distance",
          "value": 0.5,
          "point_of_interest": "tavern"
        }
      }
    },
    "eat_start": {
      "actions": [
        {
          "type": "register_system",
          "system": "feed"
        },
        {
          "type": "invoke_animation",
          "animation": "idle"
        }
      ],
      "transitions": {
        "eat_end": {
          "type": "compare",
          "counter": "satiety",
          "operation": "greater",
          "value": 95
        }
      }
    },
    "eat_end": {
      "actions": [
        {
          "type": "unregister_system",
          "system": "feed"
        },
        {
          "type": "set_point_of_interest",
          "point_of_interest": "spawn"
        },
        {
          "type": "start_move",
          "point_of_interest": "spawn"
        },
        {
          "type": "invoke_animation",
          "animation": "walk"
        }
      ],
      "transitions": {
        "idle": {
          "type": "true"
        }
      }
    },
    "walk_to_shelter": {
      "actions": [
        {
          "type": "set_point_of_interest_building",
          "point_of_interest": "shelter"
        },
        {
          "type": "start_move",
          "point_of_interest": "shelter"
        },
        {
          "type": "invoke_animation",
          "animation": "walk"
        }
      ],
      "transitions": {
        "sleep_start": {
          "type": "distance",
          "value": 1.5,
          "point_of_interest": "shelter"
        }
      }
    },
    "sleep_start": {
      "actions": [
        {
          "type": "register_system",
          "system": "sleep"
        },
        {
          "type": "invoke_animation",
          "animation": "idle"
        }
      ],
      "transitions": {
        "sleep_end": {
          "type": "compare",
          "counter": "energy",
          "operation": "greater",
          "value": 95
        }
      }
    },
    "sleep_end": {
      "actions": [
        {
          "type": "unregister_system",
          "system": "sleep"
        },
        {
          "type": "set_point_of_interest",
          "point_of_interest": "spawn"
        },
        {
          "type": "start_move",
          "point_of_interest": "spawn"
        },
        {
          "type": "invoke_animation",
          "animation": "walk"
        }
      ],
      "transitions": {
        "idle": {
          "type": "true"
        }
      }
    },
    "walk_to_sawmill" : {
      "actions": [
        {
          "type": "set_point_of_interest_building",
          "point_of_interest": "sawmill"
        },
        {
          "type": "start_move",
          "point_of_interest": "sawmill"
        },
        {
          "type": "invoke_animation",
          "animation": "walk"
        }
      ],
      "transitions": {
        "start_take_resource": {
          "type": "distance",
          "value": 1.5,
          "point_of_interest": "sawmill"
        }
      }
    },
    "start_take_resource": {
      "actions": [
        {
          "type": "invoke_animation",
          "animation": "idle"
        }
      ],
      "transitions": {
        "try_take_resource": {
          "type": "true"
        }
      }
    },
    "try_take_resource" : {
      "actions": [
        {
          "type": "take_resource",
          "point_of_interest": "sawmill"
        }
      ],
      "transitions": {
        "walk_to_tavern": {
          "type": "compare",
          "operation": "lesser",
          "counter": "satiety",
          "value": 20
        },
        "walk_to_shelter": {
          "type": "compare",
          "operation": "lesser",
          "counter": "energy",
          "value": 10
        },
        "walk_to_warehouse": {
          "type": "flag",
          "flag": "is_carrying",
          "value": "true"
        },
        "try_take_resource": {
          "type": "flag",
          "flag": "is_carrying",
          "value": "false"
        }
      }
    },
    "walk_to_warehouse" : {
      "actions": [
        {
          "type": "set_point_of_interest_building",
          "point_of_interest": "warehouse"
        },
        {
          "type": "start_move",
          "point_of_interest": "warehouse"
        },
        {
          "type": "invoke_animation",
          "animation": "walk"
        }
      ],
      "transitions": {
        "start_put_resource": {
          "type": "distance",
          "value": 1.5,
          "point_of_interest": "warehouse"
        }
      }
    },
    "start_put_resource": {
      "actions": [
        {
          "type": "invoke_animation",
          "animation": "idle"
        }
      ],
      "transitions": {
        "try_put_resource": {
          "type": "true"
        }
      }
    },
    "try_put_resource": {
      "actions": [
        {
          "type": "put_resource",
          "point_of_interest": "warehouse"
        }
      ],
      "transitions": {
        "walk_to_tavern": {
          "type": "compare",
          "operation": "lesser",
          "counter": "satiety",
          "value": 20
        },
        "walk_to_shelter": {
          "type": "compare",
          "operation": "lesser",
          "counter": "energy",
          "value": 10
        },
        "idle": {
          "type": "flag",
          "flag": "is_carrying",
          "value": "false"
        },
        "try_put_resource": {
          "type": "flag",
          "flag": "is_carrying",
          "value": "true"
        }
      }
    }
  }
}